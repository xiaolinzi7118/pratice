# 服务器配置
server.port=8080

# SQLite 数据库配置
spring.datasource.url=jdbc:sqlite:./todolist.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=
spring.datasource.hikari.maximum-pool-size=1
spring.datasource.hikari.connection-timeout=30000

# JPA/Hibernate 配置
spring.jpa.properties.hibernate.dialect=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# SQLite JDBC 驱动兼容性配置
# 禁用 getGeneratedKeys()，因为 SQLite JDBC 驱动不支持此方法
spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=false
# 非上下文 LOB 创建，避免查询驱动能力导致的错误
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Spring Security 配置（禁用自动配置的密码）
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration

# JPA Open-in-View 配置
spring.jpa.open-in-view=false

# 日志配置
logging.level.org.springframework.web=INFO
logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.todolist=DEBUG

